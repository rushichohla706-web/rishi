<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malware Behavior Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }

        .control-group {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .control-group h3 {
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.2em;
        }

        button {
            padding: 12px 24px;
            font-size: 1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            width: 100%;
        }

        .btn-virus {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-worm {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-trojan {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
        }

        .btn-reset {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            margin-top: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .simulation-area {
            padding: 30px;
            min-height: 400px;
        }

        .network-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .node {
            aspect-ratio: 1;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            transition: all 0.3s;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .node.healthy {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .node.infected-virus {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            animation: pulse 1s infinite;
        }

        .node.infected-worm {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            animation: spread 1s infinite;
        }

        .node.infected-trojan {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            animation: disguise 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes spread {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        @keyframes disguise {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 10px;
            color: white;
            text-align: center;
        }

        .stat-card h4 {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
        }

        .report {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .report h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .report-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .report-section h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .report-section ul {
            list-style-position: inside;
            line-height: 1.8;
        }

        .log {
            background: #2c3e50;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .log-entry {
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-box {
            width: 30px;
            height: 30px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ°Ô∏è Malware Behavior Simulator</h1>
            <p>Educational tool to understand how different malware types operate</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <h3>ü¶† Virus</h3>
                <button class="btn-virus" onclick="startVirus()">Launch Virus</button>
                <p style="margin-top: 10px; font-size: 0.9em; color: #666;">Infects files when executed</p>
            </div>
            <div class="control-group">
                <h3>ü™± Worm</h3>
                <button class="btn-worm" onclick="startWorm()">Launch Worm</button>
                <p style="margin-top: 10px; font-size: 0.9em; color: #666;">Self-replicates across network</p>
            </div>
            <div class="control-group">
                <h3>üê¥ Trojan</h3>
                <button class="btn-trojan" onclick="startTrojan()">Launch Trojan</button>
                <p style="margin-top: 10px; font-size: 0.9em; color: #666;">Disguises as legitimate program</p>
            </div>
            <div class="control-group">
                <h3>üîÑ Reset</h3>
                <button class="btn-reset" onclick="resetSimulation()">Reset Network</button>
                <button class="btn-reset" onclick="generateReport()" style="margin-top: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">Generate Report</button>
            </div>
        </div>

        <div class="simulation-area">
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-box" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);"></div>
                    <span>Healthy System</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);"></div>
                    <span>Virus Infected</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);"></div>
                    <span>Worm Infected</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);"></div>
                    <span>Trojan Infected</span>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <h4>Healthy Systems</h4>
                    <div class="value" id="healthyCount">64</div>
                </div>
                <div class="stat-card">
                    <h4>Infected Systems</h4>
                    <div class="value" id="infectedCount">0</div>
                </div>
                <div class="stat-card">
                    <h4>Infection Rate</h4>
                    <div class="value" id="infectionRate">0%</div>
                </div>
            </div>

            <div class="network-grid" id="network"></div>

            <div class="log" id="log">
                <div class="log-entry">System initialized. Network ready for simulation.</div>
            </div>

            <div class="report" id="report" style="display: none;">
                <h3>üìä Malware Analysis Report</h3>
                <div id="reportContent"></div>
            </div>
        </div>
    </div>

    <script>
        const network = [];
        const totalNodes = 64;
        let activeSimulation = null;
        let simulationLog = [];

        function initNetwork() {
            const networkDiv = document.getElementById('network');
            networkDiv.innerHTML = '';
            network.length = 0;
            
            for (let i = 0; i < totalNodes; i++) {
                const node = {
                    id: i,
                    status: 'healthy',
                    type: null,
                    element: null
                };
                
                const nodeDiv = document.createElement('div');
                nodeDiv.className = 'node healthy';
                nodeDiv.textContent = 'üíª';
                nodeDiv.onclick = () => nodeClicked(i);
                networkDiv.appendChild(nodeDiv);
                
                node.element = nodeDiv;
                network.push(node);
            }
            
            updateStats();
            addLog('Network initialized with ' + totalNodes + ' systems');
        }

        function nodeClicked(id) {
            if (network[id].status === 'healthy') {
                addLog('System ' + id + ' accessed by user');
            } else {
                addLog('WARNING: System ' + id + ' is infected with ' + network[id].type);
            }
        }

        function startVirus() {
            if (activeSimulation) {
                addLog('ERROR: Simulation already running. Reset first.');
                return;
            }
            
            resetSimulation();
            addLog('ü¶† VIRUS LAUNCHED: Requires user interaction to spread');
            
            const startNode = Math.floor(Math.random() * totalNodes);
            infectNode(startNode, 'virus');
            addLog('Initial infection at System ' + startNode);
            
            activeSimulation = setInterval(() => {
                const infectedNodes = network.filter(n => n.type === 'virus');
                
                infectedNodes.forEach(node => {
                    if (Math.random() < 0.15) {
                        const neighbors = getNeighbors(node.id);
                        const healthyNeighbors = neighbors.filter(n => network[n].status === 'healthy');
                        
                        if (healthyNeighbors.length > 0) {
                            const target = healthyNeighbors[Math.floor(Math.random() * healthyNeighbors.length)];
                            infectNode(target, 'virus');
                            addLog('Virus spread from System ' + node.id + ' to System ' + target + ' (user executed infected file)');
                        }
                    }
                });
                
                if (network.filter(n => n.status === 'healthy').length === 0) {
                    clearInterval(activeSimulation);
                    activeSimulation = null;
                    addLog('COMPLETE: All systems infected');
                }
            }, 1000);
        }

        function startWorm() {
            if (activeSimulation) {
                addLog('ERROR: Simulation already running. Reset first.');
                return;
            }
            
            resetSimulation();
            addLog('ü™± WORM LAUNCHED: Self-replicating, no user interaction needed');
            
            const startNode = Math.floor(Math.random() * totalNodes);
            infectNode(startNode, 'worm');
            addLog('Initial infection at System ' + startNode);
            
            activeSimulation = setInterval(() => {
                const infectedNodes = network.filter(n => n.type === 'worm');
                
                infectedNodes.forEach(node => {
                    if (Math.random() < 0.4) {
                        const neighbors = getNeighbors(node.id);
                        const healthyNeighbors = neighbors.filter(n => network[n].status === 'healthy');
                        
                        if (healthyNeighbors.length > 0) {
                            const target = healthyNeighbors[Math.floor(Math.random() * healthyNeighbors.length)];
                            infectNode(target, 'worm');
                            addLog('Worm replicated from System ' + node.id + ' to System ' + target + ' (automatic)');
                        }
                    }
                });
                
                if (network.filter(n => n.status === 'healthy').length === 0) {
                    clearInterval(activeSimulation);
                    activeSimulation = null;
                    addLog('COMPLETE: All systems infected');
                }
            }, 800);
        }

        function startTrojan() {
            if (activeSimulation) {
                addLog('ERROR: Simulation already running. Reset first.');
                return;
            }
            
            resetSimulation();
            addLog('üê¥ TROJAN LAUNCHED: Disguised as legitimate software');
            
            const startNode = Math.floor(Math.random() * totalNodes);
            infectNode(startNode, 'trojan');
            addLog('Trojan installed at System ' + startNode + ' (user thinks it\'s legitimate)');
            
            let phase = 0;
            activeSimulation = setInterval(() => {
                const infectedNodes = network.filter(n => n.type === 'trojan');
                
                if (phase < 3) {
                    infectedNodes.forEach(node => {
                        if (Math.random() < 0.1) {
                            const randomTarget = Math.floor(Math.random() * totalNodes);
                            if (network[randomTarget].status === 'healthy') {
                                infectNode(randomTarget, 'trojan');
                                addLog('Trojan payload deployed to System ' + randomTarget + ' (backdoor opened)');
                            }
                        }
                    });
                    phase++;
                } else {
                    if (Math.random() < 0.3) {
                        const randomInfected = infectedNodes[Math.floor(Math.random() * infectedNodes.length)];
                        addLog('System ' + randomInfected.id + ' sending data to attacker...');
                    }
                }
                
                if (network.filter(n => n.status === 'healthy').length === 0) {
                    clearInterval(activeSimulation);
                    activeSimulation = null;
                    addLog('COMPLETE: Trojan network established');
                }
            }, 1500);
        }

        function infectNode(id, type) {
            network[id].status = 'infected';
            network[id].type = type;
            network[id].element.className = 'node infected-' + type;
            
            if (type === 'virus') network[id].element.textContent = 'ü¶†';
            else if (type === 'worm') network[id].element.textContent = 'ü™±';
            else if (type === 'trojan') network[id].element.textContent = 'üê¥';
            
            updateStats();
        }

        function getNeighbors(id) {
            const neighbors = [];
            const row = Math.floor(id / 8);
            const col = id % 8;
            
            if (col > 0) neighbors.push(id - 1);
            if (col < 7) neighbors.push(id + 1);
            if (row > 0) neighbors.push(id - 8);
            if (row < 7) neighbors.push(id + 8);
            
            return neighbors;
        }

        function updateStats() {
            const healthy = network.filter(n => n.status === 'healthy').length;
            const infected = network.filter(n => n.status === 'infected').length;
            const rate = Math.round((infected / totalNodes) * 100);
            
            document.getElementById('healthyCount').textContent = healthy;
            document.getElementById('infectedCount').textContent = infected;
            document.getElementById('infectionRate').textContent = rate + '%';
        }

        function addLog(message) {
            const logDiv = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            const time = new Date().toLocaleTimeString();
            entry.textContent = '[' + time + '] ' + message;
            logDiv.insertBefore(entry, logDiv.firstChild);
            
            simulationLog.push({time: time, message: message});
            
            if (logDiv.children.length > 50) {
                logDiv.removeChild(logDiv.lastChild);
            }
        }

        function resetSimulation() {
            if (activeSimulation) {
                clearInterval(activeSimulation);
                activeSimulation = null;
            }
            
            initNetwork();
            document.getElementById('report').style.display = 'none';
            addLog('Network reset completed');
        }

        function generateReport() {
            const virusCount = network.filter(n => n.type === 'virus').length;
            const wormCount = network.filter(n => n.type === 'worm').length;
            const trojanCount = network.filter(n => n.type === 'trojan').length;
            
            const reportDiv = document.getElementById('report');
            const contentDiv = document.getElementById('reportContent');
            
            let reportHTML = '';
            
            if (virusCount > 0) {
                reportHTML += `
                    <div class="report-section">
                        <h4>ü¶† Virus Analysis</h4>
                        <p><strong>Systems Infected:</strong> ${virusCount}</p>
                        <p><strong>Behavior:</strong></p>
                        <ul>
                            <li>Attaches to executable files and requires user action to spread</li>
                            <li>Spreads when infected files are shared or executed</li>
                            <li>Can corrupt or modify files on the host system</li>
                            <li>Requires a host program to function</li>
                        </ul>
                        <p><strong>Impact:</strong> Moderate spread rate, depends on user behavior</p>
                        <p><strong>Prevention:</strong> Antivirus software, user education, avoid opening unknown files</p>
                    </div>
                `;
            }
            
            if (wormCount > 0) {
                reportHTML += `
                    <div class="report-section">
                        <h4>ü™± Worm Analysis</h4>
                        <p><strong>Systems Infected:</strong> ${wormCount}</p>
                        <p><strong>Behavior:</strong></p>
                        <ul>
                            <li>Self-replicates independently without user interaction</li>
                            <li>Exploits network vulnerabilities to spread automatically</li>
                            <li>Can consume bandwidth and system resources</li>
                            <li>Spreads rapidly across connected systems</li>
                        </ul>
                        <p><strong>Impact:</strong> High spread rate, network-wide infection possible</p>
                        <p><strong>Prevention:</strong> Firewall configuration, patch management, network segmentation</p>
                    </div>
                `;
            }
            
            if (trojanCount > 0) {
                reportHTML += `
                    <div class="report-section">
                        <h4>üê¥ Trojan Analysis</h4>
                        <p><strong>Systems Infected:</strong> ${trojanCount}</p>
                        <p><strong>Behavior:</strong></p>
                        <ul>
                            <li>Disguises itself as legitimate software</li>
                            <li>Creates backdoors for remote attacker access</li>
                            <li>Steals sensitive data and credentials</li>
                            <li>May download additional malware payloads</li>
                        </ul>
                        <p><strong>Impact:</strong> Stealthy operation, severe data compromise</p>
                        <p><strong>Prevention:</strong> Download from trusted sources only, verify software signatures, security audits</p>
                    </div>
                `;
            }
            
            if (!virusCount && !wormCount && !trojanCount) {
                reportHTML = '<p style="text-align: center; padding: 20px;">No malware detected. Run a simulation first.</p>';
            }
            
            contentDiv.innerHTML = reportHTML;
            reportDiv.style.display = 'block';
            addLog('Analysis report generated');
        }

        initNetwork();
    </script>
</body>
</html>